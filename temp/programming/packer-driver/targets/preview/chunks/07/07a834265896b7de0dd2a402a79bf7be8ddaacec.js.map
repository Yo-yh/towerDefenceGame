{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/loadManeger.ts"],"names":["_decorator","Component","Node","director","ProgressBar","audioBeginController","ccclass","property","loadManeger","start","node","name","preloadScene","console","log","on","EventType","MOUSE_DOWN","begin","y","position","setPosition","update","deltaTime","that","schedule","x","parent","getChildByName","active","getComponent","progress","play","loadScene"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, resources, Scene, director, AudioSource, find, Canvas, ProgressBar} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { audioBeginController } from './audioBeginController';\r\n\r\n@ccclass('loadManeger')\r\nexport class loadManeger extends Component {\r\n    @property(audioBeginController)\r\n    audioBeginController:audioBeginController = null;\r\n\r\n    start() {\r\n        \r\n        if(this.node.name == \"begin\"){\r\n            director.preloadScene(\"preIntroduce\", function () {\r\n                console.log('Next scene preloaded');\r\n            });\r\n            this.node.on(Node.EventType.MOUSE_DOWN,this.begin,this)\r\n        }\r\n        if(this.node.name == 'beginbox'){\r\n            console.log('begin...............');\r\n            let y = this.node.position.y;\r\n            this.node.setPosition(-400,y,0);\r\n\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.name == 'beginbox'){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                if(x>400){\r\n                    that.node.setPosition(400,y,0)\r\n                    that.node.parent.getChildByName(\"begin\").active = true;\r\n                }else if(x<400){\r\n                    x = x + 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    // that.cloudArrived = true;\r\n                    that.node.parent.getChildByName(\"begin\").active = true;\r\n                }\r\n\r\n            },0.8)\r\n        }\r\n\r\n        if(this.node.name == 'ProgressBar'){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                that.node.getComponent(ProgressBar).progress += 0.05\r\n            },0.8)\r\n        }\r\n        // if(this.node.parent.name == \"left\"){\r\n        //     let that = this;\r\n        //     this.schedule(function(){\r\n        //         let x = that.node.position.x;\r\n        //         let y = that.node.position.y;\r\n\r\n        //         if(x<0 && x+50>0){\r\n        //             that.node.setPosition(0,y,0)\r\n        //         }else if(x<0){\r\n        //             x = x + 50*deltaTime;\r\n        //             that.node.setPosition(x,y,0)\r\n        //         }else{\r\n        //             // that.cloudArrived = true;\r\n        //             that.node.parent.parent.getChildByName(\"begin\").active = true;\r\n        //         }\r\n\r\n        //     },1)\r\n        // }\r\n\r\n        // if(this.node.parent.name == \"right\"){\r\n        //     let that = this;\r\n        //     this.schedule(function(){\r\n        //         let x = that.node.position.x;\r\n        //         let y = that.node.position.y;\r\n\r\n        //         // if(x>0 && x-50>0){\r\n        //         //     that.node.setPosition(0,y,0)\r\n        //         // }else \r\n        //         if(x>0){\r\n        //             x = x - 50*deltaTime;\r\n        //             that.node.setPosition(x,y,0)\r\n        //         }else{\r\n        //             // that.cloudArrived = true;\r\n        //         }\r\n\r\n        //     },1)\r\n        // }\r\n    }\r\n\r\n    begin(){\r\n\r\n        this.node.getComponent(audioBeginController).play();\r\n        this.schedule(function(){\r\n            // this.node.getComponent(AudioSource).play;\r\n            director.loadScene(\"preIntroduce\")\r\n        },1,0,0)\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}