{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/createSoldier.ts"],"names":["_decorator","Component","Node","resources","Prefab","instantiate","Layers","find","ccclass","property","createSoldier","start","node","on","EventType","MOUSE_DOWN","addSoldier","update","deltaTime","console","log","that","parent","name","load","err","layer","Enum","UI_2D","num","randomNum","setPosition","active","setScale","getChildByName","lower","upper","Math","floor","random"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, resources, Prefab, instantiate, Layers, find } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('createSoldier')\r\nexport class createSoldier extends Component {\r\n    start() {\r\n        this.node.on(Node.EventType.MOUSE_DOWN,this.addSoldier,this)\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    addSoldier(){\r\n        console.log(\"召唤神兵\")\r\n        this.createSoldier()\r\n    }\r\n\r\n    createSoldier(){\r\n        let that = this;\r\n        if(this.node.parent.name == \"createComponent\"){\r\n            resources.load(\"perfabs/WeiPerfabs\",Prefab,(err,Prefab)=>{\r\n                if(!Prefab){\r\n                    \r\n                }else{\r\n                    let node = instantiate(Prefab);\r\n                    node.layer = Layers.Enum.UI_2D;\r\n                    let num = this.randomNum(-50,50)\r\n                    node.setPosition(-num,0,0);\r\n                    node.active = true;\r\n                    node.parent = find(\"Canvas/WeiBox\");\r\n                }\r\n            })\r\n        }\r\n\r\n        if(this.node.parent.name == \"createComponentR\"){\r\n            resources.load(\"perfabs/WeiPerfabs\",Prefab,(err,Prefab)=>{\r\n                if(!Prefab){\r\n                    \r\n                }else{\r\n                    let node = instantiate(Prefab);\r\n                    node.layer = Layers.Enum.UI_2D;\r\n                    node.setScale(-1,1,1);\r\n                    node.name = \"WeiPerfabsRight\"\r\n                    node.getChildByName(\"level\").setScale(-1,1,1)\r\n                    // node.getChildByName(\"ProgressBar\").setScale(-1,1,1)\r\n                    let num = this.randomNum(-50,50)\r\n                    node.setPosition(-num,0,0);\r\n                    node.active = true;\r\n                    node.parent = find(\"Canvas/WeiBox\");\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n        \r\n    }\r\n\r\n    randomNum(lower, upper) {\r\n\r\n        return Math.floor(Math.random() * (upper - lower)) + lower;\r\n        \r\n        }\r\n}\r\n\r\n\r\n"]}