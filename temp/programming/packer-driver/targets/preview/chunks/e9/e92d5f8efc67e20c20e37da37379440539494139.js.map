{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/selectToolManeger.ts"],"names":["_decorator","Component","Node","Sprite","resources","SpriteFrame","Layers","find","ccclass","property","selectToolManeger","start","node","on","EventType","MOUSE_UP","event","getChildByName","console","log","parent","destroy","addComponent","setPosition","load","_err","spriteFrame","getComponent","layer","Enum","UI_2D","update","deltaTime"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;;;;;;;;;OAExE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;mCAGjBU,iB,WADZF,OAAO,CAAC,mBAAD,C,gBAAR,MACaE,iBADb,SACuCT,SADvC,CACiD;AAC7CU,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL,CAAUC,EAAV,CAAaX,IAAI,CAACY,SAAL,CAAeC,QAA5B,EAAuCC,KAAD,IAAW;AAC7C;AACA,gBAAIT,IAAI,CAAC,SAAD,CAAJ,CAAgBU,cAAhB,CAA+B,SAA/B,CAAJ,EAA8C;AAC1C;AACA;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,mBAAKP,IAAL,CAAUQ,MAAV,CAAiBA,MAAjB,CAAwBH,cAAxB,CAAuC,SAAvC,EAAkDI,OAAlD;AACH,aALD,MAKK;AACDH,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,kBAAIP,IAAI,GAAG,IAAIV,IAAJ,CAAS,SAAT,CAAX;AACAU,cAAAA,IAAI,CAACU,YAAL,CAAkBnB,MAAlB,EAHC,CAID;;AACAS,cAAAA,IAAI,CAACW,WAAL,CAAiB,CAAC,GAAlB,EAAsB,EAAtB,EAAyB,CAAzB;AACAnB,cAAAA,SAAS,CAACoB,IAAV,CAAe,wBAAf,EAAwCnB,WAAxC,EAAoD,CAACoB,IAAD,EAAMC,WAAN,KAAoB;AACpEd,gBAAAA,IAAI,CAACe,YAAL,CAAkBxB,MAAlB,EAA0BuB,WAA1B,GAAwCA,WAAxC,CADoE,CAEpE;AACA;;AACAd,gBAAAA,IAAI,CAACgB,KAAL,GAAatB,MAAM,CAACuB,IAAP,CAAYC,KAAzB;AACAZ,gBAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAM,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACH,eAPD,EANC,CAcD;AACA;;AACAP,cAAAA,IAAI,CAACQ,MAAL,GAAcb,IAAI,CAAC,SAAD,CAAlB,CAhBC,CAiBD;AACH;AACF,WA1BH,EA0BK,IA1BL;AA2BH;;AAEDwB,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAjC4C,O","sourcesContent":["import { _decorator, Component, Node, Sprite, resources, SpriteFrame, Layers, find } from 'cc';\r\nimport { canvas } from './canvas';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('selectToolManeger')\r\nexport class selectToolManeger extends Component {\r\n    start() {\r\n        this.node.on(Node.EventType.MOUSE_UP, (event) => {\r\n            //判断是否已经存在文字框，避免重复创建文字框组件;\r\n            if (find(\"infobox\").getChildByName('infoBox')){\r\n                //TODO：当当前显示的内容为其他道具时，需要动态渲染文字框内的内容。\r\n                //TODO: 当前显示的内容为本道具时，销毁文字框。\r\n                console.log('文字框节点已存在，正在销毁')\r\n                this.node.parent.parent.getChildByName('infoBox').destroy();\r\n            }else{\r\n                console.log('Mouse down');\r\n                let node = new Node('infoBox');\r\n                node.addComponent(Sprite);\r\n                // node.getComponent(Sprite).spriteFrame = new SpriteFrame(url.raw(\"resources/game/wenzikuang\"))\r\n                node.setPosition(-500,10,0);\r\n                resources.load('wenzikuang/spriteFrame',SpriteFrame,(_err,spriteFrame)=>{\r\n                    node.getComponent(Sprite).spriteFrame = spriteFrame;\r\n                    //在cocos3x版本中，layer默认为default，node.layer = Layers.Enum.UI_2D；\r\n                    //2d摄像头可见的是UI_2D和UI_3D\r\n                    node.layer = Layers.Enum.UI_2D;\r\n                    console.log(node);\r\n                    console.log('文字框创建成功');\r\n                })\r\n                // director.getScene().addChild(node);\r\n                // node.parent=this.node.parent.parent;\r\n                node.parent = find(\"infobox\")\r\n                // this.node.addChild(node);\r\n            }\r\n          }, this);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}