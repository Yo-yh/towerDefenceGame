{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/loadManeger.ts"],"names":["_decorator","Component","resources","director","Prefab","instantiate","Layers","find","ccclass","property","loadManeger","start","node","name","console","log","load","err","layer","Enum","UI_2D","setScale","setPosition","active","parent","update","deltaTime","that","schedule","x","position","y","getChildByName","begin","loadScene"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,S,OAAAA,S;AAAkBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;;;;;;;;;OACzF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;6BAGjBU,W,WADZF,OAAO,CAAC,aAAD,C,gBAAR,MACaE,WADb,SACiCT,SADjC,CAC2C;AAGvCU,QAAAA,KAAK,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,cAAG,KAAKC,IAAL,CAAUC,IAAV,IAAkB,UAArB,EAAgC;AAC5BC,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAb,YAAAA,SAAS,CAACc,IAAV,CAAe,oBAAf,EAAoCZ,MAApC,EAA2C,CAACa,GAAD,EAAKb,MAAL,KAAc;AACrD,kBAAG,CAACA,MAAJ,EAAW,CAEV,CAFD,MAEK;AACDU,gBAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,oBAAIH,IAAI,GAAGP,WAAW,CAACD,MAAD,CAAtB;AACAU,gBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAA,gBAAAA,IAAI,CAACM,KAAL,GAAaZ,MAAM,CAACa,IAAP,CAAYC,KAAzB;AACAR,gBAAAA,IAAI,CAACS,QAAL,CAAc,CAAC,CAAf,EAAiB,CAAjB,EAAmB,CAAnB;AACAT,gBAAAA,IAAI,CAACC,IAAL,GAAY,KAAZ;AACAD,gBAAAA,IAAI,CAACU,WAAL,CAAiB,CAAjB,EAAmB,CAAnB,EAAqB,CAArB,EAPC,CAQD;AACA;;AACAV,gBAAAA,IAAI,CAACW,MAAL,GAAc,IAAd;AACAX,gBAAAA,IAAI,CAACY,MAAL,GAAcjB,IAAI,CAAC,wBAAD,CAAlB;AACAO,gBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACY,MAAjB;AACH;AACJ,aAjBD;AAmBH;AACJ;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAG,KAAKd,IAAL,CAAUY,MAAV,CAAiBX,IAAjB,IAAyB,MAA5B,EAAmC;AAC/B,gBAAIc,IAAI,GAAG,IAAX;AACA,iBAAKC,QAAL,CAAc,YAAU;AACpB,kBAAIC,CAAC,GAAGF,IAAI,CAACf,IAAL,CAAUkB,QAAV,CAAmBD,CAA3B;AACA,kBAAIE,CAAC,GAAGJ,IAAI,CAACf,IAAL,CAAUkB,QAAV,CAAmBC,CAA3B;;AAEA,kBAAGF,CAAC,GAAC,CAAF,IAAOA,CAAC,GAAC,EAAF,GAAK,CAAf,EAAiB;AACbF,gBAAAA,IAAI,CAACf,IAAL,CAAUU,WAAV,CAAsB,CAAtB,EAAwBS,CAAxB,EAA0B,CAA1B;AACH,eAFD,MAEM,IAAGF,CAAC,GAAC,CAAL,EAAO;AACTA,gBAAAA,CAAC,GAAGA,CAAC,GAAG,KAAGH,SAAX;AACAC,gBAAAA,IAAI,CAACf,IAAL,CAAUU,WAAV,CAAsBO,CAAtB,EAAwBE,CAAxB,EAA0B,CAA1B;AACH,eAHK,MAGD;AACD;AACAJ,gBAAAA,IAAI,CAACf,IAAL,CAAUY,MAAV,CAAiBA,MAAjB,CAAwBQ,cAAxB,CAAuC,OAAvC,EAAgDT,MAAhD,GAAyD,IAAzD;AACH;AAEJ,aAdD,EAcE,CAdF;AAeH;;AAED,cAAG,KAAKX,IAAL,CAAUY,MAAV,CAAiBX,IAAjB,IAAyB,OAA5B,EAAoC;AAChC,gBAAIc,KAAI,GAAG,IAAX;;AACA,iBAAKC,QAAL,CAAc,YAAU;AACpB,kBAAIC,CAAC,GAAGF,KAAI,CAACf,IAAL,CAAUkB,QAAV,CAAmBD,CAA3B;AACA,kBAAIE,CAAC,GAAGJ,KAAI,CAACf,IAAL,CAAUkB,QAAV,CAAmBC,CAA3B,CAFoB,CAIpB;AACA;AACA;;AACA,kBAAGF,CAAC,GAAC,CAAL,EAAO;AACHA,gBAAAA,CAAC,GAAGA,CAAC,GAAG,KAAGH,SAAX;;AACAC,gBAAAA,KAAI,CAACf,IAAL,CAAUU,WAAV,CAAsBO,CAAtB,EAAwBE,CAAxB,EAA0B,CAA1B;AACH,eAHD,MAGK,CACD;AACH;AAEJ,aAdD,EAcE,CAdF;AAeH;AACJ;;AAEDE,QAAAA,KAAK,GAAE;AACH9B,UAAAA,QAAQ,CAAC+B,SAAT,CAAmB,cAAnB;AACH;;AA5EsC,O","sourcesContent":["import { _decorator, Component, Node, resources, Scene, director, Prefab, instantiate, Layers, find} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('loadManeger')\r\nexport class loadManeger extends Component {\r\n\r\n\r\n    start() {\r\n        // if(this.node.name = \"begin\"){\r\n        //     director.preloadScene(\"preIntroduce\", function () {\r\n        //         console.log('Next scene preloaded');\r\n        //     });\r\n        //     this.node.on(Node.EventType.MOUSE_DOWN,this.begin,this)\r\n        // }\r\n        if(this.node.name == 'beginbox'){\r\n            console.log('begin...............');\r\n            resources.load(\"perfabs/WeiPerfabs\",Prefab,(err,Prefab)=>{\r\n                if(!Prefab){\r\n                    \r\n                }else{\r\n                    console.log('sucess...............');\r\n                    let node = instantiate(Prefab);\r\n                    console.log(node);\r\n                    node.layer = Layers.Enum.UI_2D;\r\n                    node.setScale(-2,2,2);\r\n                    node.name = \"sub\";\r\n                    node.setPosition(0,0,0)\r\n                    // let num = this.randomNum(-50,50)\r\n                    // node.setPosition(-num,0,0);\r\n                    node.active = true;\r\n                    node.parent = find(\"Canvas/middle/beginbox\");\r\n                    console.log(node.parent);\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.parent.name == \"left\"){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                if(x<0 && x+50>0){\r\n                    that.node.setPosition(0,y,0)\r\n                }else if(x<0){\r\n                    x = x + 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    // that.cloudArrived = true;\r\n                    that.node.parent.parent.getChildByName(\"begin\").active = true;\r\n                }\r\n\r\n            },1)\r\n        }\r\n\r\n        if(this.node.parent.name == \"right\"){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                // if(x>0 && x-50>0){\r\n                //     that.node.setPosition(0,y,0)\r\n                // }else \r\n                if(x>0){\r\n                    x = x - 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    // that.cloudArrived = true;\r\n                }\r\n\r\n            },1)\r\n        }\r\n    }\r\n\r\n    begin(){\r\n        director.loadScene(\"preIntroduce\")\r\n    }\r\n}\r\n\r\n\r\n"]}