{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/combatConfigManeger.ts"],"names":["GlobalLivingClass","SanShePao","ZhuiZongDan","GuangZiJian","FengYiJun","EmenyNormal","EmenyQuickAttack","SHENMU","Bing","Kong","_decorator","Component","error","resources","Prefab","instantiate","Layers","find","Label","AudioClip","AudioSource","assert","ShenMuManeger","ccclass","property","combatConfigManeger","RoundEmenyConfig","Array","SanShePaoList","ZhuiZongDanList","GuangZiJianList","FengYiJunList","start","nextFLag","roundNum","active","console","log","roundTime","InitialRoundEmenyConfig","that","schedule","endGameFlag","num","_audioSource","clip","loop","play","createSingleRoundEmeny","createSingleRoundEmenyRight","onLoad","audioSource","node","getComponent","update","deltaTime","showRoundTime","playOneShot","dt","getChildByName","string","roundTimeShow","endGame","nodeList","children","againRound","refresh","cleanCombat","nextPage","nextRound","updateManeger","askRequest","nodeListR","KongL","KongR","i","length","isValid","destroy","currentRound","load","err","layer","Enum","UI_2D","setPosition","parent","setScale","constructor","LivingValue","DefendValue","HarmValue","AttackSpeed","CostPower","GradeValue","LivingType","UpdateCost","getLivingProperty","LivingPropertyObject","getUpdateFrontInfo","getCreateFrontInfo","forwardSpeed","LivingUpdateRange","DefendUpdateRange","HarmUpdateRange","LivingUpdateValue","DefendUpdateValue","HarmUpdateValue","minRound","maxRound","livingRange","defendRange","harmRange","ratio","growSpeed","getShenMuGrowSpeed","getShenMuLivingValue","updateShenMu","value"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, error, resources, Prefab, instantiate, Layers, find, Label, AudioClip, AudioSource, assert } from 'cc';\r\nimport { diji } from './diji';\r\nimport { ShenMuManeger } from './ShenMuManeger';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('combatConfigManeger')\r\nexport class combatConfigManeger extends Component{\r\n    public RoundEmenyConfig = new Array();\r\n\r\n    @property\r\n    roundTime:number;\r\n\r\n    @property\r\n    roundNum:number;\r\n\r\n    @property\r\n    nextFLag = false;\r\n\r\n    @property\r\n    roundTimeShow = false;\r\n\r\n    @property\r\n    endGameFlag = false;\r\n\r\n    @property\r\n    askRequest = false;\r\n\r\n    @property(AudioSource)\r\n    public _audioSource:AudioSource=null!;\r\n\r\n    @property(AudioClip)\r\n    public clip: AudioClip = null!; \r\n\r\n\r\n    public SanShePao:SanShePao = new SanShePao();\r\n    public ZhuiZongDan:ZhuiZongDan = new ZhuiZongDan();\r\n    public GuangZiJian:GuangZiJian = new GuangZiJian();\r\n    public EmenyNormal = new EmenyNormal();\r\n    public EmenyQuickAttack =new EmenyQuickAttack();\r\n    public SHENMU = new SHENMU();\r\n    public Bing = new Bing();\r\n    public Kong = new Kong();\r\n    public FengYiJun =new FengYiJun();\r\n\r\n    public SanShePaoList:Array<Node> = new Array<Node>();\r\n    public ZhuiZongDanList:Array<Node> = new Array<Node>();\r\n    public GuangZiJianList:Array<Node> = new Array<Node>();\r\n    public FengYiJunList:Array<Node> = new Array<Node>();\r\n     \r\n\r\n    start() {\r\n        if(!this.nextFLag){}\r\n        this.roundNum = 0;\r\n        find(\"Canvas/EmenyBox\").active = true;\r\n        console.log(\"全局配置，正在生成\")\r\n        this.roundTime = 1;\r\n        this.InitialRoundEmenyConfig();\r\n        let that = this;\r\n\r\n\r\n        this.schedule(function() {\r\n            // 这里的 this 指向 component\r\n            if(!that.nextFLag && !that.endGameFlag){\r\n                //大于10关对敌机数量进行配置。\r\n                if(that.roundTime >10){\r\n                    let num = that.roundTime-1;\r\n                    that.RoundEmenyConfig[that.roundTime-1] =[num,num-1,num+2];\r\n                }\r\n                that._audioSource.clip = that.clip;\r\n                that._audioSource.loop = true;\r\n                this.schedule(function(){\r\n                    that._audioSource.play();\r\n                },1,1)\r\n                console.log(that.RoundEmenyConfig[that.roundTime-1])\r\n                that.createSingleRoundEmeny(that.roundTime);\r\n                that.createSingleRoundEmenyRight(that.roundTime);\r\n                that.roundNum ++;\r\n            }else{\r\n\r\n            }\r\n        },10);\r\n    }\r\n\r\n    onLoad() {\r\n        const audioSource = this.node.getComponent(AudioSource)!;\r\n        assert(audioSource);\r\n        this._audioSource = audioSource;\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.showRoundTime(deltaTime);\r\n    }\r\n\r\n    playOneShot () {\r\n        this._audioSource.playOneShot(this.clip, 1);\r\n    }\r\n    showRoundTime(dt){\r\n        let node = find(\"Canvas/model\");\r\n        node.getChildByName(\"info\").getComponent(Label).string = \"第\"+this.roundTime+\"关\"\r\n        if(!this.roundTimeShow){\r\n            node.active = true;\r\n            this.schedule(()=>{\r\n                node.active = false;\r\n                this.roundTimeShow = true;\r\n            },0,0,2);\r\n        }\r\n    }\r\n\r\n    endGame(){\r\n        let node = find(\"Canvas/gameOver\"); \r\n        node.active = true;\r\n        this.endGameFlag = true;\r\n        let nodeList = find(\"Canvas/EmenyBox\").children;\r\n        // for(let i =0;i<nodeList.length;i++){\r\n        //     if(nodeList[i].isValid){\r\n        //         nodeList[i].getChildByName(\"Emeny_Pre\").getComponent(diji).endGameFlag = true;\r\n        //     }\r\n        // }\r\n    }\r\n    againRound(){\r\n        this.endGameFlag=false;\r\n        find(\"Canvas/ShenMu\").getChildByName(\"shenmu\").getComponent(ShenMuManeger).refresh();\r\n        let node = find(\"Canvas/gameOver\"); \r\n        node.active = false;\r\n        this.roundTimeShow = false;\r\n        this.cleanCombat();\r\n    }\r\n\r\n    nextPage(){\r\n        this.cleanCombat();\r\n        this.nextFLag = true;\r\n        this.schedule(function(){\r\n            console.log(\"error>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\")\r\n\r\n            find(\"Canvas/middle\").active = true;\r\n            // find(\"Canvas/ShenMu\").getChildByName(\"shenmu\").getComponent(ShenMuManeger).refresh();\r\n        },2,0,0)\r\n    }\r\n\r\n    nextRound(){\r\n        this.roundTime ++;\r\n        this.roundNum = 0;\r\n        this.EmenyNormal.updateManeger(this.roundNum);\r\n        this.EmenyQuickAttack.updateManeger();\r\n        this.Kong.updateManeger();\r\n        console.log(\"战斗中心控制刷新\")\r\n        find(\"Canvas/ShenMu\").getChildByName(\"shenmu\").getComponent(ShenMuManeger).refresh()\r\n        //清扫战场\r\n        this.nextFLag = false;\r\n        this.roundTimeShow = false;\r\n        this.askRequest = false;\r\n    }\r\n\r\n    cleanCombat(){\r\n        let nodeList = find(\"Canvas/EmenyBox\").children;\r\n        let nodeListR = find(\"Canvas/EmenyBoxR\").children;\r\n        let KongL = find(\"Canvas/KongBoxL\").children;\r\n        let KongR = find(\"Canvas/KongBoxR\").children;\r\n        for(let i =0;i<nodeList.length;i++){\r\n            if(nodeList[i].isValid){\r\n                nodeList[i].destroy();\r\n            }\r\n        }\r\n        for(let i =0;i<nodeListR.length;i++){\r\n            if(nodeListR[i].isValid){\r\n                nodeListR[i].destroy();\r\n            }\r\n        }\r\n        for(let i =0;i<KongL.length;i++){\r\n            if(KongL[i].isValid){\r\n                KongL[i].destroy();\r\n            }\r\n        }\r\n        for(let i =0;i<KongR.length;i++){\r\n            if(KongR[i].isValid){\r\n                KongR[i].destroy();\r\n            }\r\n        }\r\n    }\r\n\r\n    InitialRoundEmenyConfig(){\r\n        //配置每轮的飞机信息\r\n        this.RoundEmenyConfig[0]=[2,0,0];\r\n        this.RoundEmenyConfig[1]=[2,1,0];\r\n        this.RoundEmenyConfig[2]=[2,2,3];\r\n        this.RoundEmenyConfig[3]=[3,1,5];\r\n        this.RoundEmenyConfig[4]=[4,2,5];\r\n        this.RoundEmenyConfig[5]=[4,2,10];\r\n        this.RoundEmenyConfig[6]=[5,3,7];\r\n        this.RoundEmenyConfig[7]=[7,2,8];\r\n        this.RoundEmenyConfig[8]=[7,4,10];\r\n        this.RoundEmenyConfig[9]=[8,8,13];\r\n    }\r\n\r\n    \r\n\r\n    createSingleRoundEmeny(currentRound:number){\r\n        let that = this;\r\n        resources.load(\"perfabs/Emeny2Perfabs\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                // console.log(\"数量为\",that.RoundEmenyConfig[currentRound-1][1])\r\n                // for(let i=0;i<that.RoundEmenyConfig[currentRound-1][1];i++){\r\n                //     that.schedule(function(){\r\n                //     let node = instantiate(Prefab)\r\n                //     node.layer = Layers.Enum.UI_2D;\r\n                //     node.setPosition(0,0,0);\r\n                //     node.parent = find(\"Canvas/EmenyBox\");\r\n                //     node.active = true;\r\n                //     },0,1,1)\r\n                // }\r\n                if(that.RoundEmenyConfig[currentRound-1][1]>0){\r\n                    that.schedule(function(){\r\n                        let node = instantiate(Prefab)\r\n                        node.layer = Layers.Enum.UI_2D;\r\n                        node.setPosition(0,0,0);\r\n                        node.parent = find(\"Canvas/EmenyBox\");\r\n                        node.active = true;\r\n                        },1,that.RoundEmenyConfig[currentRound-1][1]-1,0)\r\n                }\r\n            }\r\n        })\r\n\r\n        resources.load(\"perfabs/Emeny1Perfabs\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                // console.log(\"数量为\",that.RoundEmenyConfig[currentRound-1][0])\r\n                // for(let i=0;i<that.RoundEmenyConfig[currentRound-1][0];i++){\r\n                //     that.schedule(function(){\r\n                //         let node = instantiate(Prefab)\r\n                //         node.layer = Layers.Enum.UI_2D;\r\n                //         node.setPosition(0,0,0);\r\n                //         node.parent = find(\"Canvas/EmenyBox\");\r\n                //         node.active = true;\r\n                //     },0,1,1)\r\n                // }\r\n                if(that.RoundEmenyConfig[currentRound-1][0]>0){\r\n                    that.schedule(function(){\r\n                        let node = instantiate(Prefab)\r\n                        node.layer = Layers.Enum.UI_2D;\r\n                        node.setPosition(0,0,0);\r\n                        node.parent = find(\"Canvas/EmenyBox\");\r\n                        node.active = true;\r\n                    },1,that.RoundEmenyConfig[currentRound-1][0]-1,0)\r\n                }\r\n                // let node = instantiate(Prefab);\r\n                // node.layer = Layers.Enum.UI_2D;\r\n                // node.setPosition(0,0,0);\r\n                // node.parent = find(\"Canvas/EmenyBox\");\r\n            }\r\n        })\r\n\r\n        resources.load(\"perfabs/KongPerfabs\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                // console.log(\"数量为\",that.RoundEmenyConfig[currentRound-1][2])\r\n                // for(let i=0;i<that.RoundEmenyConfig[currentRound-1][2];i++){\r\n                //     that.schedule(function(){\r\n                //         let node = instantiate(Prefab)\r\n                //         node.layer = Layers.Enum.UI_2D;\r\n                //         node.setPosition(0,0,0);\r\n                //         node.parent = find(\"Canvas/KongBoxL\");\r\n                //         node.active = true;\r\n                //     },1,1,1)\r\n                // }\r\n                if(that.RoundEmenyConfig[currentRound-1][2]>0){\r\n                    that.schedule(function(){\r\n                        let node = instantiate(Prefab)\r\n                        node.layer = Layers.Enum.UI_2D;\r\n                        node.setPosition(0,0,0);\r\n                        node.parent = find(\"Canvas/KongBoxL\");\r\n                        node.active = true;\r\n                    },1,that.RoundEmenyConfig[currentRound-1][2]-1,0)\r\n                }\r\n                // let node = instantiate(Prefab);\r\n                // node.layer = Layers.Enum.UI_2D;\r\n                // node.setPosition(0,0,0);\r\n                // node.parent = find(\"Canvas/EmenyBox\");\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    createSingleRoundEmenyRight(currentRound:number){\r\n        let that = this;\r\n        resources.load(\"perfabs/Emeny2Perfabs\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                // console.log(\"数量为\",that.RoundEmenyConfig[currentRound-1][1])\r\n                // for(let i=0;i<that.RoundEmenyConfig[currentRound-1][1];i++){\r\n                //     that.schedule(function(){\r\n                //     let node = instantiate(Prefab)\r\n                //     // node.getChildByName(\"Emeny2_Pre\").setScale(-1,1,1)\r\n                //     node.setScale(-1,1,1);\r\n                //     node.getChildByName(\"level\").setScale(-1,1,1);\r\n                //     // node.getChildByName(\"ProgressBar\").setScale(-1,1,1);\r\n                //     node.layer = Layers.Enum.UI_2D;\r\n                //     node.setPosition(0,0,0);\r\n                //     node.parent = find(\"Canvas/EmenyBoxR\");\r\n                //     node.active = true;\r\n                //     },1,1,0)\r\n                // }\r\n\r\n                if(that.RoundEmenyConfig[currentRound-1][1]>0){\r\n                    that.schedule(function(){\r\n                        let node = instantiate(Prefab)\r\n                        // node.getChildByName(\"Emeny2_Pre\").setScale(-1,1,1)\r\n                        node.setScale(-1,1,1);\r\n                        node.getChildByName(\"level\").setScale(-1,1,1);\r\n                        // node.getChildByName(\"ProgressBar\").setScale(-1,1,1);\r\n                        node.layer = Layers.Enum.UI_2D;\r\n                        node.setPosition(0,0,0);\r\n                        node.parent = find(\"Canvas/EmenyBoxR\");\r\n                        node.active = true;\r\n                        },1,that.RoundEmenyConfig[currentRound-1][1]-1,0)\r\n                    }\r\n            }\r\n        })\r\n\r\n        resources.load(\"perfabs/Emeny1Perfabs\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                // console.log(\"数量为\",that.RoundEmenyConfig[currentRound-1][0])\r\n                // for(let i=0;i<that.RoundEmenyConfig[currentRound-1][0];i++){\r\n                //     that.schedule(function(){\r\n                //         let node = instantiate(Prefab)\r\n                //         // node.getChildByName(\"Emeny2_Pre\").setScale(-1,1,1)\r\n                //         node.setScale(-1,1,1);\r\n                //         node.getChildByName(\"level\").setScale(-1,1,1);\r\n                //         // node.getChildByName(\"ProgressBar\").setScale(-1,1,1);\r\n                //         node.layer = Layers.Enum.UI_2D;\r\n                //         node.setPosition(0,0,0);\r\n                //         node.parent = find(\"Canvas/EmenyBoxR\");\r\n                //         node.active = true;\r\n                //     },1,1,0)\r\n                // }\r\n\r\n                if(that.RoundEmenyConfig[currentRound-1][0]>0){\r\n                    that.schedule(function(){\r\n                        let node = instantiate(Prefab)\r\n                        // node.getChildByName(\"Emeny2_Pre\").setScale(-1,1,1)\r\n                        node.setScale(-1,1,1);\r\n                        node.getChildByName(\"level\").setScale(-1,1,1);\r\n                        // node.getChildByName(\"ProgressBar\").setScale(-1,1,1);\r\n                        node.layer = Layers.Enum.UI_2D;\r\n                        node.setPosition(0,0,0);\r\n                        node.parent = find(\"Canvas/EmenyBoxR\");\r\n                        node.active = true;\r\n                    },1,that.RoundEmenyConfig[currentRound-1][0]-1,0)\r\n                }\r\n                // let node = instantiate(Prefab);\r\n                // node.layer = Layers.Enum.UI_2D;\r\n                // node.setPosition(0,0,0);\r\n                // node.parent = find(\"Canvas/EmenyBox\");\r\n            }\r\n        })\r\n\r\n        resources.load(\"perfabs/KongPerfabs\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                console.log(\"数量为\",that.RoundEmenyConfig[currentRound-1][2])\r\n                // for(let i=0;i<that.RoundEmenyConfig[currentRound-1][2];i++){\r\n                //     that.schedule(function(){\r\n                //         let node = instantiate(Prefab)\r\n                //         // node.getChildByName(\"Emeny2_Pre\").setScale(-1,1,1)\r\n                //         node.setScale(-1,1,1);\r\n                //         node.getChildByName(\"level\").setScale(-1,1,1);\r\n                //         // node.getChildByName(\"ProgressBar\").setScale(-1,1,1);\r\n                //         node.layer = Layers.Enum.UI_2D;\r\n                //         node.setPosition(0,0,0);\r\n                //         node.parent = find(\"Canvas/KongBoxR\");\r\n                //         node.active = true;\r\n                //     },1,1,0)\r\n                // }\r\n                if(that.RoundEmenyConfig[currentRound-1][2]>0){\r\n                    that.schedule(function(){\r\n                        let node = instantiate(Prefab)\r\n                        // node.getChildByName(\"Emeny2_Pre\").setScale(-1,1,1)\r\n                        node.setScale(-1,1,1);\r\n                        node.getChildByName(\"level\").setScale(-1,1,1);\r\n                        // node.getChildByName(\"ProgressBar\").setScale(-1,1,1);\r\n                        node.layer = Layers.Enum.UI_2D;\r\n                        node.setPosition(0,0,0);\r\n                        node.parent = find(\"Canvas/KongBoxR\");\r\n                        node.active = true;\r\n                    },1,that.RoundEmenyConfig[currentRound-1][2]-1,0)\r\n                }\r\n\r\n                // let node = instantiate(Prefab);\r\n                // node.layer = Layers.Enum.UI_2D;\r\n                // node.setPosition(0,0,0);\r\n                // node.parent = find(\"Canvas/EmenyBox\");\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n}\r\nclass GlobalLivingClass{\r\n    LivingValue:number;\r\n    DefendValue:number;\r\n    HarmValue:number;\r\n    AttackSpeed:number;\r\n    CostPower:number;\r\n    GradeValue:number;\r\n    LivingType:number;\r\n    UpdateCost:number;\r\n\r\n    constructor(LivingValue:number,DefendValue:number,HarmValue:number,AttackSpeed:number,CostPower:number,GradeValue:number,LivingType:number,UpdateCost:number){\r\n        this.LivingValue = LivingValue;\r\n        this.DefendValue = DefendValue;\r\n        this.HarmValue = HarmValue;\r\n        this.AttackSpeed = AttackSpeed;\r\n        this.CostPower = CostPower;\r\n        this.GradeValue = GradeValue;\r\n        this.LivingType = LivingType;\r\n        this.UpdateCost = UpdateCost;\r\n    }\r\n}\r\nclass SanShePao extends GlobalLivingClass{\r\n    constructor(){\r\n        //生命值；防御值；攻击值；攻击速度；消耗值；生命等级；生命类型\r\n        super(500,0.05,60,300,0.03,1,1,60)\r\n    }\r\n    updateManeger(){\r\n        if(this.GradeValue == 10){\r\n            error(\"已满级，不要偏心哦\")\r\n            return\r\n        }else{\r\n            //提升生命值的5%\r\n            this.LivingValue +=this.LivingValue*0.05;\r\n            //提升防御值的5%\r\n            this.DefendValue +=this.DefendValue*0.05;\r\n            //提升伤害值的6%\r\n            this.HarmValue += this.HarmValue*0.06;\r\n            //等级+1\r\n            this.GradeValue += 1;\r\n        }\r\n    }\r\n    //获取生命属性信息：生命值、防御值、伤害值、等级、升级损耗\r\n    getLivingProperty():any{\r\n        let LivingPropertyObject = {\r\n            \"LivingValue\":this.LivingValue,\r\n            \"DefendValue\":this.DefendValue,\r\n            \"HarmValue\":this.HarmValue,\r\n            \"GradeVale\":this.GradeValue\r\n        }\r\n\r\n        return LivingPropertyObject\r\n    }\r\n\r\n    getUpdateFrontInfo(){\r\n        return this.UpdateCost;\r\n    }\r\n\r\n    getCreateFrontInfo(){\r\n        return this.CostPower;\r\n    }\r\n}\r\n\r\nclass ZhuiZongDan extends GlobalLivingClass{\r\n    constructor(){\r\n        //生命值；防御值；攻击值；攻击速度；消耗值；生命等级；生命类型;升级损耗\r\n        super(600,0.1,80,500,0.05,1,2,80)\r\n    }\r\n    updateManeger(){\r\n        if(this.GradeValue == 10){\r\n            error(\"已满级，不要偏心哦\")\r\n            return\r\n        }else{\r\n            //提升生命值的5%\r\n            this.LivingValue +=this.LivingValue*0.03;\r\n            //提升防御值的5%\r\n            this.DefendValue +=this.DefendValue*0.04;\r\n            //提升伤害值的6%\r\n            this.HarmValue += this.HarmValue*0.05;\r\n            //等级+1\r\n            this.GradeValue += 1;\r\n        }\r\n    }\r\n    //获取生命属性信息：生命值、防御值、伤害值、等级\r\n    getLivingProperty():any{\r\n        let LivingPropertyObject = {\r\n            \"LivingValue\":this.LivingValue,\r\n            \"DefendValue\":this.DefendValue,\r\n            \"HarmValue\":this.HarmValue,\r\n            \"GradeVale\":this.GradeValue\r\n        }\r\n\r\n        return LivingPropertyObject\r\n    }\r\n\r\n    getUpdateFrontInfo(){\r\n        return this.UpdateCost;\r\n    }\r\n\r\n    getCreateFrontInfo(){\r\n        return this.CostPower;\r\n    }\r\n}\r\n\r\nclass GuangZiJian extends GlobalLivingClass{\r\n    constructor(){\r\n        //生命值；防御值；攻击值；攻击速度；消耗值；生命等级；生命类型;升级损耗\r\n        super(400,0.3,100,1200,0.08,1,3,100)\r\n    }\r\n    updateManeger(){\r\n        if(this.GradeValue == 10){\r\n            error(\"已满级，不要偏心哦\")\r\n            return\r\n        }else{\r\n            //提升生命值的5%\r\n            this.LivingValue +=this.LivingValue*0.05;\r\n            //提升防御值的5%\r\n            this.DefendValue +=this.DefendValue*0.03;\r\n            //提升伤害值的6%\r\n            this.HarmValue += this.HarmValue*0.05;\r\n            //等级+1\r\n            this.GradeValue += 1;\r\n        }\r\n    }\r\n    //获取生命属性信息：生命值、防御值、伤害值、等级\r\n    getLivingProperty():any{\r\n        let LivingPropertyObject = {\r\n            \"LivingValue\":this.LivingValue,\r\n            \"DefendValue\":this.DefendValue,\r\n            \"HarmValue\":this.HarmValue,\r\n            \"GradeVale\":this.GradeValue\r\n        }\r\n\r\n        return LivingPropertyObject\r\n    }\r\n\r\n    getUpdateFrontInfo(){\r\n        return this.UpdateCost;\r\n    }\r\n\r\n    getCreateFrontInfo(){\r\n        return this.CostPower;\r\n    }\r\n}\r\n\r\nclass FengYiJun extends GlobalLivingClass{\r\n    constructor(){\r\n        super(180,0.1,80,300,0.05,1,5,0.05);\r\n    }\r\n    //升级系统;\r\n}\r\n\r\nclass EmenyNormal extends GlobalLivingClass{\r\n    forwardSpeed:number;\r\n    constructor(){\r\n        super(500,0.08,80,400,0,1,11,0);\r\n        this.forwardSpeed = 100;\r\n    }\r\n\r\n    updateManeger(roundTime:number){\r\n        let LivingUpdateRange = [0.01,0.03];\r\n        let DefendUpdateRange = [0.03,0.1];\r\n        let HarmUpdateRange = [0.05,0.1];\r\n        let LivingUpdateValue;\r\n        let DefendUpdateValue;\r\n        let HarmUpdateValue;\r\n        let minRound = 2;\r\n        let maxRound = 8;\r\n        if(roundTime<minRound){\r\n            LivingUpdateValue = LivingUpdateRange[1];\r\n            DefendUpdateValue = DefendUpdateRange[1];\r\n            HarmUpdateValue = HarmUpdateRange[1];\r\n        }else if(roundTime>maxRound){\r\n            LivingUpdateValue = LivingUpdateRange[0];\r\n            DefendUpdateValue = DefendUpdateRange[0];\r\n            HarmUpdateValue = HarmUpdateRange[0];\r\n        }else{\r\n            let livingRange = LivingUpdateRange[1]-LivingUpdateRange[0];\r\n            let defendRange = DefendUpdateRange[1]-DefendUpdateRange[0];\r\n            let harmRange = HarmUpdateRange[1] - HarmUpdateRange[0];\r\n\r\n            let ratio = (roundTime - minRound)/(maxRound - minRound);\r\n\r\n            LivingUpdateValue = ratio * livingRange + LivingUpdateRange[0];\r\n            DefendUpdateValue = ratio * defendRange + DefendUpdateRange[0];\r\n            HarmUpdateValue = ratio * harmRange + HarmUpdateRange[0];\r\n        }\r\n\r\n            this.LivingValue +=this.LivingValue*LivingUpdateValue;\r\n            \r\n            this.DefendValue +=this.DefendValue*DefendUpdateValue;\r\n            \r\n            this.HarmValue += this.HarmValue*HarmUpdateValue;\r\n            //等级+1\r\n            this.GradeValue += 1;\r\n    }\r\n\r\n}\r\n\r\nclass EmenyQuickAttack extends GlobalLivingClass{\r\n    forwardSpeed:number;\r\n    constructor(){\r\n        super(500,0.05,200,0,0,1,12,0)\r\n        this.forwardSpeed = 160;\r\n    }\r\n    updateManeger(){\r\n        //每次调用就会直接增加\r\n        this.HarmValue +=50;\r\n        this.GradeValue += 1;\r\n    }\r\n}\r\n\r\nclass SHENMU extends GlobalLivingClass{\r\n    growSpeed:number;\r\n    constructor(){\r\n        super(1000,0.05,0,0,0,1,0,0)\r\n        this.growSpeed = 50;\r\n    }\r\n\r\n    getShenMuGrowSpeed(){\r\n        return this.growSpeed;\r\n    }\r\n    getShenMuLivingValue(){\r\n        return this.LivingValue;\r\n    }\r\n\r\n    updateShenMu(value){\r\n        //将贡献者的1%生命值贡献给神木\r\n        this.LivingValue += value * 0.01;\r\n    }\r\n}\r\n\r\nclass Bing extends GlobalLivingClass{\r\n    //不能升级\r\n    constructor(){\r\n        //默认生命值100，攻速5s一攻击；伤害值为对方生命值的5%；生成一个需要消耗自生生命值的5%的神力值；\r\n        super(100,0,0.05,5,0.05,1,4,0)\r\n    }\r\n}\r\n\r\nclass Kong extends GlobalLivingClass{\r\n    //不能升级\r\n    constructor(){\r\n        //默认生命值100，攻速5s一攻击；伤害值为对方生命值的5%；生成一个需要消耗自生生命值的5%的神力值；\r\n        super(150,0,0.03,4,0,1,4,0)\r\n    }\r\n\r\n    updateManeger(){\r\n        //每次调用就会直接增加\r\n        this.GradeValue += 1;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]}