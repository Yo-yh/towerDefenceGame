{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/blockControlLeftManeger.ts"],"names":["_decorator","Component","Node","resources","Prefab","instantiate","Layers","find","ccclass","property","blockControlLeftManeger","start","console","log","node","name","on","EventType","MOUSE_DOWN","addBlockControl","update","deltaTime","currentBlockNum","createBlock","Error","currentBlockNumR","createBlockRight","that","load","err","layer","Enum","UI_2D","x","setPosition","parent"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, resources, Prefab, instantiate, Layers, find } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('blockControlLeftManeger')\r\nexport class blockControlLeftManeger extends Component {\r\n    @property\r\n    currentBlockNum:number = 0;\r\n\r\n    @property\r\n    currentBlockNumR:number = 0;\r\n\r\n    start() {\r\n        console.log(this.node.name,\"扩建的名称\")\r\n        this.node.on(Node.EventType.MOUSE_DOWN,this.addBlockControl,this)\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n    addBlockControl(){\r\n\r\n        if(this.node.name =\"blockControl\"){\r\n            if(this.currentBlockNum <= 2){\r\n                console.log(\"正在添加block\")\r\n                this.createBlock();\r\n            }else{\r\n                Error(\"已到最大数量值\")\r\n            }\r\n        }else if (this.node.name =\"blockControlR\"){\r\n            if(this.currentBlockNumR <= 2){\r\n                console.log(\"正在添加blockRight\")\r\n                this.createBlockRight();\r\n            }else{\r\n                Error(\"已到最大数量值\")\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n    createBlock(){\r\n        let that = this;\r\n        resources.load(\"perfabs/left\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                let node = instantiate(Prefab);\r\n                node.layer = Layers.Enum.UI_2D;\r\n                let x = that.currentBlockNum * 110;\r\n                node.setPosition(-x,0,0);\r\n                node.parent = find(\"Canvas/blockLeft\");\r\n                that.currentBlockNum +=1;\r\n            }\r\n        })\r\n    }\r\n\r\n    createBlockRight(){\r\n        let that = this;\r\n        resources.load(\"perfabs/right\",Prefab,(err,Prefab)=>{\r\n            if(!Prefab){\r\n                \r\n            }else{\r\n                let node = instantiate(Prefab);\r\n                node.layer = Layers.Enum.UI_2D;\r\n                let x = that.currentBlockNumR * 110;\r\n                node.setPosition(x,0,0);\r\n                node.parent = find(\"Canvas/blockRight\");\r\n                that.currentBlockNumR +=1;\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\n"]}