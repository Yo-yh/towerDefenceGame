{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/scrollControl.ts"],"names":["_decorator","Component","Node","ccclass","property","scrollControl","touchStartPos","start","node","on","EventType","TOUCH_MOVE","touchMove","TOUCH_CANCEL","touchCancel","update","deltaTime","onDestroy","off","TOUCH_START","touchStart","TOUCH_END","touchEnd","event","getLocation","console","log","distance","Math","abs","x"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('scrollControl')\r\nexport class scrollControl extends Component {\r\n    private touchStartPos:Vec3;\r\n    start() {\r\n        \r\n        // this.node.on(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        // this.node.on(Node.EventType.TOUCH_END,this.touchEnd,this);\r\n        this.node.on(Node.EventType.TOUCH_MOVE,this.touchMove,this);\r\n        this.node.on(Node.EventType.TOUCH_CANCEL,this.touchCancel,this)\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    onDestroy(){\r\n        this.node.off(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        this.node.off(Node.EventType.TOUCH_END,this.touchEnd,this)\r\n        this.node.off(Node.EventType.TOUCH_MOVE,this.touchMove,this)\r\n        this.node.off(Node.EventType.TOUCH_CANCEL,this.touchCancel,this)\r\n    }\r\n\r\n    touchStart(event){\r\n        this.touchStartPos = event.getLocation()\r\n    }\r\n    touchCancel(event){\r\n        console.log(\"停止触摸\") \r\n        this.touchStartPos = event.getLocation()\r\n    }\r\n\r\n    touchMove(event){\r\n        console.log(\"正在触摸移动\") \r\n        if(this.touchStartPos == null){\r\n            return\r\n        }\r\n        let distance = Math.abs (event.getLocation().x - this.touchStartPos.x);\r\n        console.log(\"滑动距离为：\",distance)\r\n\r\n        if(event.getLocation().x < this.touchStartPos.x){\r\n            console.log(\"向左滑动\")\r\n        }\r\n        if(event.getLocation().x > this.touchStartPos.x){\r\n            console.log(\"向右滑动\")\r\n        }\r\n    }\r\n\r\n    touchEnd(event){\r\n        if(this.touchStartPos == null){\r\n            return\r\n        }\r\n        let distance = Math.abs (event.getLocation().x - this.touchStartPos.x);\r\n        console.log(\"滑动距离为：\",distance)\r\n\r\n        if(event.getLocation().x < this.touchStartPos.x){\r\n            console.log(\"向左滑动\")\r\n        }\r\n        if(event.getLocation().x > this.touchStartPos.x){\r\n            console.log(\"向右滑动\")\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n\r\n\r\n"]}