{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/scrollControl.ts"],"names":["_decorator","Component","Node","ccclass","property","scrollControl","touchStartPos","leftScroll","rightScroll","start","update","deltaTime","node","on","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","onDestroy","off","TOUCH_MOVE","touchMove","TOUCH_CANCEL","touchCancel","event","getLocation","x","position","y","setPosition"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('scrollControl')\r\nexport class scrollControl extends Component {\r\n    private touchStartPos:Vec3;\r\n    private leftScroll:number;\r\n    private rightScroll:number;\r\n    start() {\r\n        this.leftScroll = 0;\r\n        this.rightScroll = 0;\r\n        // this.node.on(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        // this.node.on(Node.EventType.TOUCH_END,this.touchEnd,this);\r\n        // this.node.on(Node.EventType.TOUCH_MOVE,this.touchMove,this);\r\n        // this.node.on(Node.EventType.TOUCH_CANCEL,this.touchCancel,this)\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.node.on(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        this.node.on(Node.EventType.TOUCH_END,this.touchEnd,this);\r\n    }\r\n\r\n    onDestroy(){\r\n        this.node.off(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        this.node.off(Node.EventType.TOUCH_END,this.touchEnd,this)\r\n        this.node.off(Node.EventType.TOUCH_MOVE,this.touchMove,this)\r\n        this.node.off(Node.EventType.TOUCH_CANCEL,this.touchCancel,this)\r\n    }\r\n\r\n    touchStart(event){\r\n        this.touchStartPos = event.getLocation()\r\n    }\r\n    touchCancel(event){ \r\n        this.touchStartPos = event.getLocation()\r\n    }\r\n\r\n    touchMove(event){\r\n        if(this.touchStartPos == null){\r\n            return\r\n        }\r\n\r\n        if(event.getLocation().x < this.touchStartPos.x){\r\n            if(this.leftScroll < 101){\r\n                let x = this.node.position.x\r\n                let y = this.node.position.y\r\n                this.node.setPosition(x-101,y,0)\r\n                this.leftScroll +=101;\r\n                this.rightScroll =0;\r\n            }else{\r\n                \r\n            }\r\n            \r\n        }\r\n        if(event.getLocation().x > this.touchStartPos.x){\r\n            if(this.rightScroll < 101){\r\n                let x = this.node.position.x\r\n                let y = this.node.position.y\r\n                this.node.setPosition(x+101,y,0)\r\n                this.rightScroll +=101;\r\n                this.leftScroll =0;\r\n            }else{\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    touchEnd(event){\r\n        if(this.touchStartPos == null){\r\n            return\r\n        }\r\n\r\n        if(event.getLocation().x < this.touchStartPos.x){\r\n            if(this.leftScroll < 101){\r\n                let x = this.node.position.x\r\n                let y = this.node.position.y\r\n                this.node.setPosition(x-101,y,0)\r\n                this.leftScroll +=101;\r\n                this.rightScroll =0;\r\n            }else{\r\n                \r\n            }\r\n            \r\n        }\r\n        if(event.getLocation().x > this.touchStartPos.x){\r\n            if(this.rightScroll < 101){\r\n                let x = this.node.position.x\r\n                let y = this.node.position.y\r\n                this.node.setPosition(x+101,y,0)\r\n                this.rightScroll +=101;\r\n                this.leftScroll =0;\r\n            }else{\r\n                \r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n\r\n\r\n"]}