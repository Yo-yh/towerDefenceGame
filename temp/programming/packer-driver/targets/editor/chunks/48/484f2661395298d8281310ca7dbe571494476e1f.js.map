{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/loadManeger.ts"],"names":["_decorator","Component","Node","Scene","director","ccclass","property","loadManeger","start","node","parent","name","preloadScene","console","log","load","getChildByName","getComponents","this","on","EventType","MOUSE_DOWN","begin","update","deltaTime","that","schedule","x","position","y","setPosition","active","loadScene"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, resources, Scene, director} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('loadManeger')\r\nexport class loadManeger extends Component {\r\n\r\n    // public cloudArrived = false;\r\n    @property (Scene)\r\n    load:Scene\r\n\r\n    start() {\r\n        if(this.node.parent.name == \"left\"){\r\n            director.preloadScene(\"load\", function () {\r\n                console.log('Next scene preloaded');\r\n            });\r\n        }\r\n        \r\n\r\n        if(this.node.name = \"begin\"){\r\n            this.load = this.node.parent.getChildByName(\"left\").getChildByName(\"cloud\").getComponents(loadManeger).\r\n            this.node.on(Node.EventType.MOUSE_DOWN,this.begin,this)\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.parent.name == \"left\"){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                if(x<0 && x+50>0){\r\n                    that.node.setPosition(0,y,0)\r\n                }else if(x<0){\r\n                    x = x + 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    // that.cloudArrived = true;\r\n                    that.node.parent.parent.getChildByName(\"begin\").active = true;\r\n                }\r\n\r\n            },1)\r\n        }\r\n\r\n        if(this.node.parent.name == \"right\"){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                // if(x>0 && x-50>0){\r\n                //     that.node.setPosition(0,y,0)\r\n                // }else \r\n                if(x>0){\r\n                    x = x - 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    // that.cloudArrived = true;\r\n                }\r\n\r\n            },1)\r\n        }\r\n    }\r\n\r\n    begin(){\r\n        director.loadScene(\"load\")\r\n    }\r\n}\r\n\r\n\r\n"]}