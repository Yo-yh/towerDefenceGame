{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/scrollControl.ts"],"names":["_decorator","Component","Node","ccclass","property","scrollControl","touchStartPos","start","node","on","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","TOUCH_MOVE","touchMove","update","deltaTime","onDestroy","off","TOUCH_CANCEL","touchCancel","event","getLocation","console","log","distance","Math","abs","x"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;;;;;;;;OAC1B;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;+BAGjBK,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCJ,SADnC,CAC6C;AAAA;AAAA;AAAA,eACjCK,aADiC;AAAA;;AAEzCC,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL,CAAUC,EAAV,CAAaP,IAAI,CAACQ,SAAL,CAAeC,WAA5B,EAAwC,KAAKC,UAA7C,EAAwD,IAAxD;AACA,eAAKJ,IAAL,CAAUC,EAAV,CAAaP,IAAI,CAACQ,SAAL,CAAeG,SAA5B,EAAsC,KAAKC,QAA3C,EAAoD,IAApD;AACA,eAAKN,IAAL,CAAUC,EAAV,CAAaP,IAAI,CAACQ,SAAL,CAAeK,UAA5B,EAAuC,KAAKC,SAA5C,EAAsD,IAAtD;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,SAAS,GAAE;AACP;AACA;AACA,eAAKX,IAAL,CAAUY,GAAV,CAAclB,IAAI,CAACQ,SAAL,CAAeK,UAA7B,EAAwC,KAAKC,SAA7C,EAAuD,IAAvD;AACA,eAAKR,IAAL,CAAUY,GAAV,CAAclB,IAAI,CAACQ,SAAL,CAAeW,YAA7B,EAA0C,KAAKC,WAA/C,EAA2D,IAA3D;AACH;;AAEDV,QAAAA,UAAU,CAACW,KAAD,EAAO;AACb,eAAKjB,aAAL,GAAqBiB,KAAK,CAACC,WAAN,EAArB;AACH;;AACDF,QAAAA,WAAW,CAACC,KAAD,EAAO;AACdE,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;;AAEDV,QAAAA,SAAS,CAACO,KAAD,EAAO;AACZE,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;;AAEDZ,QAAAA,QAAQ,CAACS,KAAD,EAAO;AACX,cAAG,KAAKjB,aAAL,IAAsB,IAAzB,EAA8B;AAC1B;AACH;;AACD,cAAIqB,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAAUN,KAAK,CAACC,WAAN,GAAoBM,CAApB,GAAwB,KAAKxB,aAAL,CAAmBwB,CAArD,CAAf;AACAL,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBC,QAArB;;AAEA,cAAGJ,KAAK,CAACC,WAAN,GAAoBM,CAApB,GAAwB,KAAKxB,aAAL,CAAmBwB,CAA9C,EAAgD;AAC5CL,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;;AACD,cAAGH,KAAK,CAACC,WAAN,GAAoBM,CAApB,GAAwB,KAAKxB,aAAL,CAAmBwB,CAA9C,EAAgD;AAC5CL,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;AAEJ;;AA5CwC,O","sourcesContent":["import { _decorator, Component, Node, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('scrollControl')\r\nexport class scrollControl extends Component {\r\n    private touchStartPos:Vec3;\r\n    start() {\r\n        this.node.on(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        this.node.on(Node.EventType.TOUCH_END,this.touchEnd,this);\r\n        this.node.on(Node.EventType.TOUCH_MOVE,this.touchMove,this);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    onDestroy(){\r\n        // this.node.off(Node.EventType.TOUCH_START,this.touchStart,this);\r\n        // this.node.off(Node.EventType.TOUCH_END,this.touchEnd,this)\r\n        this.node.off(Node.EventType.TOUCH_MOVE,this.touchMove,this)\r\n        this.node.off(Node.EventType.TOUCH_CANCEL,this.touchCancel,this)\r\n    }\r\n\r\n    touchStart(event){\r\n        this.touchStartPos = event.getLocation()\r\n    }\r\n    touchCancel(event){\r\n        console.log(\"停止触摸\") \r\n    }\r\n\r\n    touchMove(event){\r\n        console.log(\"正在触摸移动\")  \r\n    }\r\n\r\n    touchEnd(event){\r\n        if(this.touchStartPos == null){\r\n            return\r\n        }\r\n        let distance = Math.abs (event.getLocation().x - this.touchStartPos.x);\r\n        console.log(\"滑动距离为：\",distance)\r\n\r\n        if(event.getLocation().x < this.touchStartPos.x){\r\n            console.log(\"向左滑动\")\r\n        }\r\n        if(event.getLocation().x > this.touchStartPos.x){\r\n            console.log(\"向右滑动\")\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n\r\n\r\n"]}