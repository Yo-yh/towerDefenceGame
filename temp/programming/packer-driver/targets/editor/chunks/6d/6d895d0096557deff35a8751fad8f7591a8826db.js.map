{"version":3,"sources":["file:///D:/Gameproject/NewProject-001/assets/script/middleManeger.ts"],"names":["_decorator","Component","ccclass","property","middleManeger","cloudArrived","start","update","deltaTime","node","parent","name","that","schedule","x","position","y","setPosition","active"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;;;OACf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;+BAGjBI,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCH,SADnC,CAC6C;AAAA;AAAA;AAAA,eAElCI,YAFkC,GAEnB,KAFmB;AAAA;;AAGzCC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAG,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,IAAjB,IAAyB,MAA5B,EAAmC;AAC/B,gBAAIC,IAAI,GAAG,IAAX;AACA,iBAAKC,QAAL,CAAc,YAAU;AACpB,kBAAIC,CAAC,GAAGF,IAAI,CAACH,IAAL,CAAUM,QAAV,CAAmBD,CAA3B;AACA,kBAAIE,CAAC,GAAGJ,IAAI,CAACH,IAAL,CAAUM,QAAV,CAAmBC,CAA3B;;AAEA,kBAAGF,CAAC,GAAC,CAAF,IAAOA,CAAC,GAAC,EAAF,GAAK,CAAf,EAAiB;AACbF,gBAAAA,IAAI,CAACH,IAAL,CAAUQ,WAAV,CAAsB,CAAtB,EAAwBD,CAAxB,EAA0B,CAA1B;AACH,eAFD,MAEM,IAAGF,CAAC,GAAC,CAAL,EAAO;AACTA,gBAAAA,CAAC,GAAGA,CAAC,GAAG,KAAGN,SAAX;AACAI,gBAAAA,IAAI,CAACH,IAAL,CAAUQ,WAAV,CAAsBH,CAAtB,EAAwBE,CAAxB,EAA0B,CAA1B;AACH,eAHK,MAGD;AACDJ,gBAAAA,IAAI,CAACP,YAAL,GAAoB,IAApB;AACH;AAEJ,aAbD,EAaE,CAbF;AAcH;;AAED,cAAG,KAAKI,IAAL,CAAUC,MAAV,CAAiBC,IAAjB,IAAyB,OAA5B,EAAoC;AAChC,gBAAIC,IAAI,GAAG,IAAX;AACA,iBAAKC,QAAL,CAAc,YAAU;AACpB,kBAAIC,CAAC,GAAGF,IAAI,CAACH,IAAL,CAAUM,QAAV,CAAmBD,CAA3B;AACA,kBAAIE,CAAC,GAAGJ,IAAI,CAACH,IAAL,CAAUM,QAAV,CAAmBC,CAA3B,CAFoB,CAIpB;AACA;AACA;;AACA,kBAAGF,CAAC,GAAC,CAAL,EAAO;AACHA,gBAAAA,CAAC,GAAGA,CAAC,GAAG,KAAGN,SAAX;AACAI,gBAAAA,IAAI,CAACH,IAAL,CAAUQ,WAAV,CAAsBH,CAAtB,EAAwBE,CAAxB,EAA0B,CAA1B;AACH,eAHD,MAGK;AACDJ,gBAAAA,IAAI,CAACP,YAAL,GAAoB,IAApB;AACH;AAEJ,aAdD,EAcE,CAdF;AAeH;;AAED,cAAG,KAAKI,IAAL,CAAUE,IAAV,IAAkB,MAArB,EAA4B;AACxB,gBAAG,KAAKN,YAAL,IAAqB,KAAKI,IAA7B,EAAkC;AAC9B,mBAAKA,IAAL,CAAUS,MAAV,GAAmB,IAAnB;AACH;AACJ;AAEJ;;AAnDwC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('middleManeger')\r\nexport class middleManeger extends Component {\r\n\r\n    public cloudArrived = false;\r\n    start() {\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.parent.name == \"left\"){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                if(x<0 && x+50>0){\r\n                    that.node.setPosition(0,y,0)\r\n                }else if(x<0){\r\n                    x = x + 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    that.cloudArrived = true;\r\n                }\r\n\r\n            },1)\r\n        }\r\n\r\n        if(this.node.parent.name == \"right\"){\r\n            let that = this;\r\n            this.schedule(function(){\r\n                let x = that.node.position.x;\r\n                let y = that.node.position.y;\r\n\r\n                // if(x>0 && x-50>0){\r\n                //     that.node.setPosition(0,y,0)\r\n                // }else \r\n                if(x>0){\r\n                    x = x - 50*deltaTime;\r\n                    that.node.setPosition(x,y,0)\r\n                }else{\r\n                    that.cloudArrived = true;\r\n                }\r\n\r\n            },1)\r\n        }\r\n\r\n        if(this.node.name == \"next\"){\r\n            if(this.cloudArrived && this.node){\r\n                this.node.active = true;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}